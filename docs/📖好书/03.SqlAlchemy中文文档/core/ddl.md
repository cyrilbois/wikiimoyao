---
title: ÂÆöÂà∂ DDL
date: 2021-02-20 22:41:33
permalink: /sqlalchemy/core/ddl/
categories:
  - üìñÂ•Ω‰π¶
  - SqlAlchemy ‰∏≠ÊñáÊñáÊ°£
  - core
tags:
---
ÂÆöÂà∂ DDL [¬∂](#customizing-ddl "Permalink to this headline")
==========================================================

In the preceding sections we‚Äôve discussed a variety of schema constructs
including [`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table"),
[`ForeignKeyConstraint`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint "sqlalchemy.schema.ForeignKeyConstraint"),
[`CheckConstraint`](constraints.html#sqlalchemy.schema.CheckConstraint "sqlalchemy.schema.CheckConstraint"),
and [`Sequence`](defaults.html#sqlalchemy.schema.Sequence "sqlalchemy.schema.Sequence").
Throughout, we‚Äôve relied upon the `create()` and
[`create_all()`](metadata.html#sqlalchemy.schema.MetaData.create_all "sqlalchemy.schema.MetaData.create_all")
methods of [`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")
and [`MetaData`](metadata.html#sqlalchemy.schema.MetaData "sqlalchemy.schema.MetaData")
in order to issue data definition language (DDL) for all constructs.
Âú®ÂèëÂ∏ÉÊó∂ÔºåË∞ÉÁî®È¢ÑÂÆö‰πâÁöÑÊìç‰ΩúÈ°∫Â∫èÔºåÂπ∂‰∏îÂàõÂª∫ÊØè‰∏™Ë°®ÁöÑ DDL Ë¢´Êó†Êù°‰ª∂Âú∞ÂàõÂª∫ÔºåÂåÖÊã¨‰∏éÂÖ∂Áõ∏ÂÖ≥ËÅîÁöÑÊâÄÊúâÁ∫¶ÊùüÂíåÂÖ∂‰ªñÂØπË±°„ÄÇÂØπ‰∫éÈúÄË¶ÅÁâπÂÆö‰∫éÊï∞ÊçÆÂ∫ìÁöÑ DDL ÁöÑÊõ¥Â§çÊùÇÂú∫ÊôØÔºåSQLAlchemy Êèê‰æõ‰∫Ü‰∏§ÁßçÊäÄÊúØÔºåÂèØÁî®‰∫éÊ†πÊçÆ‰ªª‰ΩïÊù°‰ª∂Ê∑ªÂä†‰ªª‰Ωï DDLÔºåÂèØ‰ª•‰º¥ÈöèÊ†áÂáÜÁöÑË°®ÁîüÊàêÊàñËá™Ë∫´„ÄÇ

Ëá™ÂÆö‰πâ DDL [¬∂](#custom-ddl "Permalink to this headline")
-------------------------------------------------------

‰ΩøÁî®[`DDL`](#sqlalchemy.schema.DDL "sqlalchemy.schema.DDL")ÁªìÊûÑÊúÄÂÆπÊòìÂÆûÁé∞Ëá™ÂÆö‰πâ DDL Áü≠ËØ≠„ÄÇËøô‰∏™ÊûÑÈÄ†ÂÉèÊâÄÊúâÂÖ∂‰ªñÁöÑ DDL ÂÖÉÁ¥†‰∏ÄÊ†∑Â∑•‰ΩúÔºåÈô§‰∫ÜÂÆÉÊé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂÆÉÊòØË¶ÅÂèëÂ∞ÑÁöÑÊñáÊú¨Ôºö

    event.listen(plain
        metadata,
        "after_create",
        DDL("ALTER TABLE users ADD CONSTRAINT "
            "cst_user_name_length "
            " CHECK (length(user_name) >= 8)")
    )

ÂàõÂª∫ DDL ÁªìÊûÑÂ∫ìÁöÑÊõ¥ÂÖ®Èù¢ÁöÑÊñπÊ≥ïÊòØ‰ΩøÁî®Ëá™ÂÆö‰πâÁºñËØë -
ÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ[Custom SQL Constructs and Compilation
Extension](compiler.html)„ÄÇ

ÊéßÂà∂ DDL Â∫èÂàó[¬∂](#controlling-ddl-sequences "Permalink to this headline")
-----------------------------------------------------------------------

ÂÖàÂâçÂºïÂÖ•ÁöÑ[`DDL`](#sqlalchemy.schema.DDL "sqlalchemy.schema.DDL")ÊûÑÈÄ†‰πüÂÖ∑ÊúâÂü∫‰∫éÂØπÊï∞ÊçÆÂ∫ìÁöÑÊ£ÄÊü•ÊúâÊù°‰ª∂Ë∞ÉÁî®ÁöÑËÉΩÂäõ„ÄÇËØ•ÂäüËÉΩÂèØ‰ª•‰ΩøÁî®[`DDLElement.execute_if()`](#sqlalchemy.schema.DDLElement.execute_if "sqlalchemy.schema.DDLElement.execute_if")ÊñπÊ≥ï„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥ÂàõÂª∫‰∏Ä‰∏™Ëß¶ÂèëÂô®Ôºå‰ΩÜÂè™ËÉΩÂú® Postgresql ÂêéÁ´Ø‰∏äÔºåÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑Ë∞ÉÁî®ÂÆÉÔºö

    mytable = Table(
        'mytable', metadata,
        Column('id', Integer, primary_key=True),
        Column('data', String(50))
    )

    trigger = DDL(
        "CREATE TRIGGER dt_ins BEFORE INSERT ON mytable "
        "FOR EACH ROW BEGIN SET NEW.data='ins'; END"
    )

    event.listen(
        mytable,
        'after_create',
        trigger.execute_if(dialect='postgresql')
    )

[`DDLElement.execute_if.dialect`](#sqlalchemy.schema.DDLElement.execute_if.params.dialect "sqlalchemy.schema.DDLElement.execute_if")ÂÖ≥ÈîÆÂ≠ó‰πüÊé•ÂèóÂ≠óÁ¨¶‰∏≤ÊñπË®ÄÂêçÁß∞ÁöÑÂÖÉÁªÑÔºö

    event.listen(plainplain
        mytable,
        "after_create",
        trigger.execute_if(dialect=('postgresql', 'mysql'))
    )
    event.listen(
        mytable,
        "before_drop",
        trigger.execute_if(dialect=('postgresql', 'mysql'))
    )

[`DDLElement.execute_if()`](#sqlalchemy.schema.DDLElement.execute_if "sqlalchemy.schema.DDLElement.execute_if")ÊñπÊ≥ï‰πüÂèØ‰ª•Áî®‰∫éÂèØÊé•Êî∂Êï∞ÊçÆÂ∫ìËøûÊé•ÁöÑÂèØË∞ÉÁî®ÂáΩÊï∞„ÄÇÂú®‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî®ÂÆÉÊù•ÊúâÊù°‰ª∂Âú∞ÂàõÂª∫ CHECK Á∫¶ÊùüÔºåÈ¶ñÂÖàÂú® Postgresql ÁõÆÂΩï‰∏≠Êü•ÁúãÂÆÉÊòØÂê¶Â≠òÂú®Ôºö

    def should_create(ddl, target, connection, **kw):plainplain
        row = connection.execute(
            "select conname from pg_constraint where conname='%s'" %
            ddl.element.name).scalar()
        return not bool(row)

    def should_drop(ddl, target, connection, **kw):
        return not should_create(ddl, target, connection, **kw)

    event.listen(
        users,
        "after_create",
        DDL(
            "ALTER TABLE users ADD CONSTRAINT "
            "cst_user_name_length CHECK (length(user_name) >= 8)"
        ).execute_if(callable_=should_create)
    )
    event.listen(
        users,
        "before_drop",
        DDL(
            "ALTER TABLE users DROP CONSTRAINT cst_user_name_length"
        ).execute_if(callable_=should_drop)
    )

    sqlusers.create(engine)
    CREATE TABLE users (
        user_id SERIAL NOT NULL,
        user_name VARCHAR(40) NOT NULL,
        PRIMARY KEY (user_id)
    )

    select conname from pg_constraint where conname='cst_user_name_length'
    ALTER TABLE users ADD CONSTRAINT cst_user_name_length  CHECK (length(user_name) >= 8)
    sqlusers.drop(engine)
    select conname from pg_constraint where conname='cst_user_name_length'
    ALTER TABLE users DROP CONSTRAINT cst_user_name_length
    DROP TABLE users

‰ΩøÁî®ÂÜÖÁΩÆÁöÑ DDLElement Á±ª[¬∂](#using-the-built-in-ddlelement-classes "Permalink to this headline")
----------------------------------------------------------------------------------------------

`sqlalchemy.schema`ÂåÖÂåÖÂê´Êèê‰æõ DDL Ë°®ËææÂºèÁöÑ SQL Ë°®ËææÂºèÁªìÊûÑ„ÄÇ‰æãÂ¶ÇÔºåË¶Å‰∫ßÁîü‰∏Ä‰∏™`CREATE TABLE`ËØ≠Âè•Ôºö

    from sqlalchemy.schema import CreateTable
    sqlengine.execute(CreateTable(mytable))
    CREATE TABLE mytable (
        col1 INTEGER,
        col2 INTEGER,
        col3 INTEGER,
        col4 INTEGER,
        col5 INTEGER,
        col6 INTEGER
    )

Âú®‰∏äÈù¢Ôºå[`CreateTable`](#sqlalchemy.schema.CreateTable "sqlalchemy.schema.CreateTable")ÊûÑÈÄ†ÂÉè‰ªª‰ΩïÂÖ∂‰ªñË°®ËææÂºèÊûÑÈÄ†‰∏ÄÊ†∑Â∑•‰ΩúÔºàÂ¶Ç`select()`Ôºå`table.insert()`Á≠âÔºâ„ÄÇÊâÄÊúâ SQLAlchemy ÁöÑÈù¢Âêë DDL ÁöÑÊûÑÈÄ†ÈÉΩÊòØ[`DDLElement`](#sqlalchemy.schema.DDLElement "sqlalchemy.schema.DDLElement")Âü∫Á±ªÁöÑÂ≠êÁ±ªÔºõËøôÊòØÂØπÂ∫î‰∫é CREATE Âíå DROP ‰ª•Âèä ALTER ÁöÑÊâÄÊúâÂØπË±°ÁöÑÂü∫Á°ÄÔºå‰∏ç‰ªÖÂú® SQLAlchemy ‰∏≠ÔºåËÄå‰∏îÂú® Alembic
Migrations ‰∏≠‰πüÊòØÂ¶ÇÊ≠§„ÄÇÂèØÁî®ÊûÑÈÄ†ÁöÑÂÆåÊï¥ÂºïÁî®‰Ωç‰∫é[DDL Expression Constructs
API](#schema-api-ddl)‰∏≠„ÄÇ

Áî®Êà∑ÂÆö‰πâÁöÑ DDL ÁªìÊûÑ‰πüÂèØ‰ª•ÂàõÂª∫‰∏∫[`DDLElement`](#sqlalchemy.schema.DDLElement "sqlalchemy.schema.DDLElement")Êú¨Ë∫´ÁöÑÂ≠êÁ±ª„ÄÇ[Custom
SQL Constructs and Compilation
Extension](compiler.html)‰∏≠ÁöÑÊñáÊ°£ÊúâÂá†‰∏™‰æãÂ≠ê„ÄÇ

‰∏ä‰∏ÄËäÇ[Controlling DDL
Sequences](#schema-ddl-sequences)‰∏≠ÊèèËø∞ÁöÑ‰∫ã‰ª∂È©±Âä®ÁöÑ DDL Á≥ªÁªü‰πüÂèØ‰ª•‰∏éÂÖ∂‰ªñ[`DDLElement`](#sqlalchemy.schema.DDLElement "sqlalchemy.schema.DDLElement")ÂØπË±°‰∏ÄËµ∑‰ΩøÁî®„ÄÇHowever,
when dealing with the built-in constructs such as [`CreateIndex`](#sqlalchemy.schema.CreateIndex "sqlalchemy.schema.CreateIndex"),
[`CreateSequence`](#sqlalchemy.schema.CreateSequence "sqlalchemy.schema.CreateSequence"),
etc, the event system is of **limited** use, as methods like
[`Table.create()`](metadata.html#sqlalchemy.schema.Table.create "sqlalchemy.schema.Table.create")
and [`MetaData.create_all()`](metadata.html#sqlalchemy.schema.MetaData.create_all "sqlalchemy.schema.MetaData.create_all")
will invoke these constructs unconditionally.
Âú®Êú™Êù•ÁöÑ SQLAlchemy ÂèëË°åÁâà‰∏≠ÔºåÂåÖÂê´Êù°‰ª∂ÊâßË°åÁöÑ DDL ‰∫ã‰ª∂Á≥ªÁªüÂ∞ÜËÄÉËôëÁõÆÂâçÂú®ÊâÄÊúâÊÉÖÂÜµ‰∏ãË∞ÉÁî®ÁöÑÂÜÖÁΩÆÊûÑÈÄ†„ÄÇ

Êàë‰ª¨ÂèØ‰ª•Áî®[`AddConstraint`](#sqlalchemy.schema.AddConstraint "sqlalchemy.schema.AddConstraint")Âíå[`DropConstraint`](#sqlalchemy.schema.DropConstraint "sqlalchemy.schema.DropConstraint")ÁªìÊûÑÊù•ËØ¥Êòé‰∏Ä‰∏™‰∫ã‰ª∂È©±Âä®ÁöÑ‰æãÂ≠êÔºåÂõ†‰∏∫‰∫ã‰ª∂È©±Âä®Á≥ªÁªüÂèØ‰ª•Áî®‰∫é CHECK Âíå UNIQUE Á∫¶ÊùüÔºåÂÉèÊàë‰ª¨Âú®[`DDLElement.execute_if()`](#sqlalchemy.schema.DDLElement.execute_if "sqlalchemy.schema.DDLElement.execute_if")ÁöÑÂâç‰∏Ä‰∏™‰æãÂ≠êÔºö

    def should_create(ddl, target, connection, **kw):plainplain
        row = connection.execute(
            "select conname from pg_constraint where conname='%s'" %
            ddl.element.name).scalar()
        return not bool(row)

    def should_drop(ddl, target, connection, **kw):
        return not should_create(ddl, target, connection, **kw)

    event.listen(
        users,
        "after_create",
        AddConstraint(constraint).execute_if(callable_=should_create)
    )
    event.listen(
        users,
        "before_drop",
        DropConstraint(constraint).execute_if(callable_=should_drop)
    )

    sqlusers.create(engine)
    CREATE TABLE users (
        user_id SERIAL NOT NULL,
        user_name VARCHAR(40) NOT NULL,
        PRIMARY KEY (user_id)
    )

    select conname from pg_constraint where conname='cst_user_name_length'
    ALTER TABLE users ADD CONSTRAINT cst_user_name_length  CHECK (length(user_name) >= 8)
    sqlusers.drop(engine)
    select conname from pg_constraint where conname='cst_user_name_length'
    ALTER TABLE users DROP CONSTRAINT cst_user_name_length
    DROP TABLE users

While the above example is against the built-in [`AddConstraint`](#sqlalchemy.schema.AddConstraint "sqlalchemy.schema.AddConstraint")
and [`DropConstraint`](#sqlalchemy.schema.DropConstraint "sqlalchemy.schema.DropConstraint")
objects, the main usefulness of DDL events for now remains focused on
the use of the [`DDL`](#sqlalchemy.schema.DDL "sqlalchemy.schema.DDL") construct
itself, as well as with user-defined subclasses of [`DDLElement`](#sqlalchemy.schema.DDLElement "sqlalchemy.schema.DDLElement")
that aren‚Äôt already part of the [`MetaData.create_all()`](metadata.html#sqlalchemy.schema.MetaData.create_all "sqlalchemy.schema.MetaData.create_all"),
[`Table.create()`](metadata.html#sqlalchemy.schema.Table.create "sqlalchemy.schema.Table.create"),
and corresponding ‚Äúdrop‚Äù processes.

DDL Ë°®ËææÂºèÊûÑÈÄ† API [¬∂](#ddl-expression-constructs-api "Permalink to this headline")
---------------------------------------------------------------------------------

 `sqlalchemy.schema.`{.descclassname}`sort_tables`{.descname}(*tables*, *skip\_fn=None*, *extra\_dependencies=None*)[¬∂](#sqlalchemy.schema.sort_tables "Permalink to this definition")
:   Ê†πÊçÆ‰æùËµñÂÖ≥Á≥ªÊéíÂ∫è[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")ÂØπË±°ÁöÑÈõÜÂêà„ÄÇ

    ËøôÊòØ‰∏Ä‰∏™‰æùËµñÊéíÂ∫èÁöÑÊéíÂ∫èÔºåÂÆÉÂ∞ÜÂèëÂ∞Ñ[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")ÂØπË±°Ôºå‰ª•‰æøÂÆÉ‰ª¨Â∞ÜÈÅµÂæ™ÂÖ∂‰æùËµñÁöÑ[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")ÂØπË±°„ÄÇÊ†πÊçÆ[`ForeignKeyConstraint`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint "sqlalchemy.schema.ForeignKeyConstraint")ÂØπË±°ÁöÑÂ≠òÂú®‰ª•Âèä[`Table.add_is_dependent_on()`](metadata.html#sqlalchemy.schema.Table.add_is_dependent_on "sqlalchemy.schema.Table.add_is_dependent_on")Ê∑ªÂä†ÁöÑÊòæÂºè‰æùËµñÂÖ≥Á≥ªÔºåË°®‰æùËµñ‰∫éÂè¶‰∏Ä‰∏™Ë°®„ÄÇplain

    Ë≠¶Âëä

    The [`sort_tables()`](#sqlalchemy.schema.sort_tables "sqlalchemy.schema.sort_tables")
    function cannot by itself accommodate automatic resolution of
    dependency cycles between tables, which are usually caused by
    mutually dependent foreign key constraints.
    Ë¶ÅËß£ÂÜ≥Ëøô‰∫õÂæ™ÁéØÔºåÂèØ‰ª•Â∞Ü[`ForeignKeyConstraint.use_alter`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter "sqlalchemy.schema.ForeignKeyConstraint")ÂèÇÊï∞Â∫îÁî®‰∫éËøô‰∫õÁ∫¶ÊùüÔºåÊàñËÄÖ‰ΩøÁî®`sql.sort_tables_and_constraints()`ÂáΩÊï∞Êù•ÊâìÁ†¥Ê∂âÂèäÂàÜÂºÄÂæ™ÁéØ„ÄÇ

    ÂèÇÊï∞Ôºö

    -   **tables**[¬∂](#sqlalchemy.schema.sort_tables.params.tables) ‚Äì a
        sequence of [`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")
        objects.
    -   **skip\_fn**[¬∂](#sqlalchemy.schema.sort_tables.params.skip_fn) ‚Äì
        optional callable which will be passed a [`ForeignKey`](constraints.html#sqlalchemy.schema.ForeignKey "sqlalchemy.schema.ForeignKey")
        object; if it returns True, this constraint will not be
        considered as a dependency. Note this is **different** from the
        same parameter in [`sort_tables_and_constraints()`](#sqlalchemy.schema.sort_tables_and_constraints "sqlalchemy.schema.sort_tables_and_constraints"),
        which is instead passed the owning [`ForeignKeyConstraint`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint "sqlalchemy.schema.ForeignKeyConstraint")
        object.
    -   **extra\_dependencies**
        [¬∂](#sqlalchemy.schema.sort_tables.params.extra_dependencies) -
        Ë°®Ê†ºÁöÑ2ÂÖÉÁªÑÂ∫èÂàóÔºå‰πüÂ∞ÜË¢´ËßÜ‰∏∫Áõ∏‰∫í‰æùËµñ„ÄÇ

    ‰πüÂèØ‰ª•ÁúãÁúã

    [`sort_tables_and_constraints()`](#sqlalchemy.schema.sort_tables_and_constraints "sqlalchemy.schema.sort_tables_and_constraints")

    `MetaData.sorted_tables()` -
    uses this function to sort

 `sqlalchemy.schema.`{.descclassname}`sort_tables_and_constraints`{.descname}(*tables*, *filter\_fn=None*, *extra\_dependencies=None*)[¬∂](#sqlalchemy.schema.sort_tables_and_constraints "Permalink to this definition")
:   ÂØπ[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")
    / [`ForeignKeyConstraint`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint "sqlalchemy.schema.ForeignKeyConstraint")ÂØπË±°ÁöÑÈõÜÂêàËøõË°åÊéíÂ∫è„ÄÇ

    ËøôÊòØ‰∏Ä‰∏™‰æùËµñÊéíÂ∫èÁöÑÊéíÂ∫èÔºåÂÆÉÂ∞ÜÂèëÂá∫`ÔºàTableÔºå [ForeignKeyConstraintÔºå ...]Ôºâ  t0ÁöÑÂÖÉÁªÑ>‰ΩøÂæóÊØè‰∏™Table`ÈÅµÂæ™ÂÖ∂‰æùËµñÁöÑ[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")ÂØπË±°„ÄÇRemaining
    [`ForeignKeyConstraint`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint "sqlalchemy.schema.ForeignKeyConstraint")
    objects that are separate due to dependency rules not satisifed by
    the sort are emitted afterwards as
    `(None, [ForeignKeyConstraint ...])`.

    Tables are dependent on another based on the presence of
    [`ForeignKeyConstraint`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint "sqlalchemy.schema.ForeignKeyConstraint")
    objects, explicit dependencies added by
    [`Table.add_is_dependent_on()`](metadata.html#sqlalchemy.schema.Table.add_is_dependent_on "sqlalchemy.schema.Table.add_is_dependent_on"),
    as well as dependencies stated here using the [`skip_fn`](#sqlalchemy.schema.sort_tables_and_constraints.params.skip_fn "sqlalchemy.schema.sort_tables_and_constraints")
    and/or [`extra_dependencies`](#sqlalchemy.schema.sort_tables_and_constraints.params.extra_dependencies "sqlalchemy.schema.sort_tables_and_constraints")
    parameters.

    ÂèÇÊï∞Ôºö

    -   **tables**[¬∂](#sqlalchemy.schema.sort_tables_and_constraints.params.tables)
        ‚Äì a sequence of [`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")
        objects.
    -   **filter\_fn**[¬∂](#sqlalchemy.schema.sort_tables_and_constraints.params.filter_fn)
        ‚Äì optional callable which will be passed a
        [`ForeignKeyConstraint`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint "sqlalchemy.schema.ForeignKeyConstraint")
        object, and returns a value based on whether this constraint
        should definitely be included or excluded as an inline
        constraint, or neither.
        Â¶ÇÊûúÂÆÉËøîÂõûFalseÔºåÈÇ£‰πàËøô‰∏™Á∫¶ÊùüËÇØÂÆö‰ºöË¢´ÂåÖÂê´‰Ωú‰∏∫‰∏Ä‰∏™‰∏çÂèóALTERÁ∫¶ÊùüÁöÑ‰æùËµñÔºõÂ¶ÇÊûú‰∏∫TrueÔºåÂàô‰ªÖÂú®**ÁªìÂ∞æÂ§ÑÂåÖÂê´**‰Ωú‰∏∫ALTERÁªìÊûú„ÄÇËøîÂõûÊó†ÊÑèÂë≥ÁùÄÁ∫¶ÊùüË¢´ÂåÖÂê´Âú®Âü∫‰∫éË°®Ê†ºÁöÑÁªìÊûú‰∏≠ÔºåÈô§ÈùûÂÆÉË¢´Ê£ÄÊµã‰∏∫‰æùËµñÂë®ÊúüÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ
    -   **extra\_dependencies**
        [¬∂](#sqlalchemy.schema.sort_tables_and_constraints.params.extra_dependencies)
        - Ë°®Ê†ºÁöÑ2ÂÖÉÁªÑÂ∫èÂàóÔºå‰πüÂ∞ÜË¢´ËßÜ‰∏∫Áõ∏‰∫í‰æùËµñ„ÄÇ

    ÁâàÊú¨1.0.0‰∏≠ÁöÑÊñ∞ÂäüËÉΩ

    ‰πüÂèØ‰ª•ÁúãÁúã

    [`sort_tables()`](#sqlalchemy.schema.sort_tables "sqlalchemy.schema.sort_tables")

*class* `sqlalchemy.schema„ÄÇ`{.descclassname} `DDLElement`{.descname} [¬∂](#sqlalchemy.schema.DDLElement "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.sql.expression.Executable`](selectable.html#sqlalchemy.sql.expression.Executable "sqlalchemy.sql.expression.Executable")Ôºå`sqlalchemy.schema._DDLCompiles`

    DDLË°®ËææÂºèÊûÑÈÄ†ÁöÑÂü∫Á±ª„ÄÇplainplainplain

    This class is the base for the general purpose [`DDL`](#sqlalchemy.schema.DDL "sqlalchemy.schema.DDL") class, as
    well as the various create/drop clause constructs such as
    [`CreateTable`](#sqlalchemy.schema.CreateTable "sqlalchemy.schema.CreateTable"),
    [`DropTable`](#sqlalchemy.schema.DropTable "sqlalchemy.schema.DropTable"),
    [`AddConstraint`](#sqlalchemy.schema.AddConstraint "sqlalchemy.schema.AddConstraint"),
    etc.

    [`DDLElement`](#sqlalchemy.schema.DDLElement "sqlalchemy.schema.DDLElement")‰∏é[Events](event.html)‰∏≠‰ªãÁªçÁöÑSQLAlchemy‰∫ã‰ª∂Á¥ßÂØÜÈõÜÊàê„ÄÇ‰∏Ä‰∏™ÂÆû‰æãÊú¨Ë∫´Â∞±ÊòØ‰∏Ä‰∏™Êé•Êî∂ÂèØË∞ÉÁî®ÁöÑ‰∫ã‰ª∂Ôºö

        event.listen(
            users,
            'after_create',
            AddConstraint(constraint).execute_if(dialect='postgresql')
        )

    ‰πüÂèØ‰ª•ÁúãÁúã

    [`DDL`](#sqlalchemy.schema.DDL "sqlalchemy.schema.DDL")

    [`DDLEvents`](events.html#sqlalchemy.events.DDLEvents "sqlalchemy.events.DDLEvents")

    [Events](event.html)

    [Controlling DDL Sequences](#schema-ddl-sequences)

    `__ call __`{.descname} Ôºà *target*Ôºå*bind*Ôºå*\*\* kw* T5\> [¬∂ T6\>](#sqlalchemy.schema.DDLElement.__call__ "Permalink to this definition")
    :   ‰ª•ddl\_listenerÁöÑË∫´‰ªΩÊâßË°åDDL„ÄÇ

    `ÈíàÂØπ T0> Ôºà T1> Èù∂ T2> Ôºâ T3> ¬∂ T4>`{.descname}
    :   ÈíàÂØπÁâπÂÆöÊ®°ÂºèÈ°πÁõÆËøîÂõûÊ≠§DDLÁöÑÂâØÊú¨„ÄÇ

    `ÁªìÂêà T0> ¬∂ T1>`{.descname}
    :   

    `callable _`{.descname} *=Êó†* [¬∂](#sqlalchemy.schema.DDLElement.callable_ "Permalink to this definition")
    :   

    `ÊñπË®Ä`{.descname} *=Êó†* [¬∂](#sqlalchemy.schema.DDLElement.dialect "Permalink to this definition")
    :   

     `execute`{.descname}(*bind=None*, *target=None*)[¬∂](#sqlalchemy.schema.DDLElement.execute "Permalink to this definition")
    :   Á´ãÂç≥ÊâßË°åÊ≠§DDL„ÄÇ

        Â¶ÇÊûúÊú™Êèê‰æõÔºåÂàô‰ΩøÁî®ÂàÜÈÖçÁªô`.bind`Â±ûÊÄßÁöÑ[`Connectable`](connections.html#sqlalchemy.engine.Connectable "sqlalchemy.engine.Connectable")Êàñ[`Connectable`](connections.html#sqlalchemy.engine.Connectable "sqlalchemy.engine.Connectable")ÊâßË°åDDLËØ≠Âè•„ÄÇÂ¶ÇÊûúDDLÂú®Ê†áÂáÜ‰∏äÊúâÊù°‰ª∂ÁöÑ`on`

        ÂèÇÊï∞Ôºö

        -   **bind**[¬∂](#sqlalchemy.schema.DDLElement.execute.params.bind)
            ‚Äì Optional, an `Engine` or
            `Connection`.
            Â¶ÇÊûúÊú™Êèê‰æõÔºåÂàôÂøÖÈ°ªÂú®`.bind`Â±ûÊÄß‰∏≠Â≠òÂú®ÊúâÊïàÁöÑ[`Connectable`](connections.html#sqlalchemy.engine.Connectable "sqlalchemy.engine.Connectable")„ÄÇ
        -   **target**
            [¬∂](#sqlalchemy.schema.DDLElement.execute.params.target) -
            ÂèØÈÄâÔºåÈªòËÆ§‰∏∫None„ÄÇÊâßË°åË∞ÉÁî®ÁöÑÁõÆÊ†áSchemaItem„ÄÇÂ∞ÜË¢´‰º†ÈÄíÁªô`on`
            callableÔºàÂ¶ÇÊûúÊúâÔºâÔºåÂπ∂‰∏îËøòÂèØ‰ª•‰∏∫ËØ•ËØ≠Âè•Êèê‰æõÂ≠óÁ¨¶‰∏≤Êâ©Â±ïÊï∞ÊçÆ„ÄÇÊúâÂÖ≥Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ`execute_at`„ÄÇ

     `execute_at`{.descname}(*event\_name*, *target*)[¬∂](#sqlalchemy.schema.DDLElement.execute_at "Permalink to this definition")
    :   Â∞ÜÊ≠§DDLÁöÑÊâßË°åÈìæÊé•Âà∞SchemaItemÁöÑDDLÁîüÂëΩÂë®Êúü„ÄÇ

        ‰ªéÁâàÊú¨0.7ÂºÄÂßãÂºÉÁî®ÔºöËØ∑ÂèÇÈòÖ[`DDLEvents`](events.html#sqlalchemy.events.DDLEvents "sqlalchemy.events.DDLEvents")‰ª•Âèä[`DDLElement.execute_if()`](#sqlalchemy.schema.DDLElement.execute_if "sqlalchemy.schema.DDLElement.execute_if")„ÄÇ

        Â∞ÜÊ≠§`DDLElement`ÈìæÊé•Âà∞`Table`Êàñ`MetaData`ÂÆû‰æãÔºåÂπ∂Âú®ËØ•Êû∂ÊûÑÈ°πÂàõÂª∫ÊàñÂà†Èô§Êó∂ÊâßË°åËØ•ÂÆû‰æã„ÄÇDDLËØ≠Âè•Â∞Ü‰ΩøÁî®‰∏éË°®ÂàõÂª∫/Âà†Èô§Êú¨Ë∫´Áõ∏ÂêåÁöÑËøûÊé•Âíå‰∫ãÂä°‰∏ä‰∏ãÊñáÊù•ÊâßË°å„ÄÇËØ•ËØ≠Âè•ÁöÑ`.bind`Â±ûÊÄßË¢´ÂøΩÁï•„ÄÇ

        ÂèÇÊï∞Ôºö

        -   **event**[¬∂](#sqlalchemy.schema.DDLElement.execute_at.params.event)
            ‚Äì One of the events defined in the schema item‚Äôs
            `.ddl_events`; e.g. ‚Äòbefore-create‚Äô,
            ‚Äòafter-create‚Äô, ‚Äòbefore-drop‚Äô or ‚Äòafter-drop‚Äô
        -   **target**[¬∂](#sqlalchemy.schema.DDLElement.execute_at.params.target)
            ‚Äì The Table or MetaData instance for which this DDLElement
            will be associated with.

        DDLElementÂÆû‰æãÂèØ‰ª•ÈìæÊé•Âà∞‰ªªÊÑèÊï∞ÈáèÁöÑÊ®°ÂºèÈ°πÁõÆ„ÄÇ

        `execute_at`Âª∫Á´ãÂú®[`MetaData`](metadata.html#sqlalchemy.schema.MetaData "sqlalchemy.schema.MetaData")Âíå[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")ÂØπË±°ÁöÑ`append_ddl_listener`Êé•Âè£‰∏ä„ÄÇ

        Ë≠¶ÂëäÔºöÂàõÂª∫ÊàñÂà†Èô§Áã¨Á´ãÁöÑË°®‰πü‰ºöËß¶Âèë‰ªª‰ΩïDDLËÆæÁΩÆ‰∏∫`execute_at`Ë°®ÁöÑÂÖÉÊï∞ÊçÆ„ÄÇËøôÂèØËÉΩ‰ºöÂú®Êú™Êù•ÁöÑÁâàÊú¨‰∏≠ÂèëÁîüÂèòÂåñ„ÄÇ

    `execute_if`{.descname} Ôºà *dialect = None*Ôºå*callable\_ = None*Ôºå*state = None* Ôºâ T5\> [¬∂ T6\>](#sqlalchemy.schema.DDLElement.execute_if "Permalink to this definition")
    :   ËøîÂõûÂèØÊâßË°åÊ≠§DDLElementÁöÑÂèØË∞ÉÁî®ÂØπË±°„ÄÇ

        Áî®‰∫éÊèê‰æõ‰∫ã‰ª∂ÁõëÂê¨ÁöÑÂåÖË£ÖÔºö

            event.listen(
                        metadata,
                        'before_create',
                        DDL("my_ddl").execute_if(dialect='postgresql')
                    )

        ÂèÇÊï∞Ôºö

        -   **dialect**
            [¬∂](#sqlalchemy.schema.DDLElement.execute_if.params.dialect)
            -

            ÂèØËÉΩÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂÖÉÁªÑÊàñÂèØË∞ÉÁî®Ë∞ìËØç„ÄÇÂ¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂàô‰ºöÂ∞ÜÂÖ∂‰∏éÊ≠£Âú®ÊâßË°åÁöÑÊï∞ÊçÆÂ∫ìÊñπË®ÄÁöÑÂêçÁß∞ËøõË°åÊØîËæÉÔºö

                DDL('something').execute_if(dialect='postgresql')

            Â¶ÇÊûú‰∏Ä‰∏™ÂÖÉÁªÑÊåáÂÆöÂ§ö‰∏™ÊñπË®ÄÂêçÁß∞Ôºö

                DDL('something').execute_if(dialect=('postgresql', 'mysql'))

        -   **callable \_**
            [¬∂](#sqlalchemy.schema.DDLElement.execute_if.params.callable_)
            -

            ‰∏Ä‰∏™ÂèØË∞ÉÁî®ÁöÑÂØπË±°ÔºåÂÆÉÂ∞ÜË¢´Ë∞ÉÁî®Âõõ‰∏™‰ΩçÁΩÆÂèÇÊï∞‰ª•ÂèäÂèØÈÄâÁöÑÂÖ≥ÈîÆÂ≠óÂèÇÊï∞Ôºö

            > DDLÔºö
            > Ëøô‰∏™DDLÂÖÉÁ¥†„ÄÇ
            > ÁõÆÊ†áÔºö
            > [`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")Êàñ[`MetaData`](metadata.html#sqlalchemy.schema.MetaData "sqlalchemy.schema.MetaData")ÂØπË±°ÊòØÊ≠§‰∫ã‰ª∂ÁöÑÁõÆÊ†á„ÄÇÂ¶ÇÊûúDDLÊòØÊòéÁ°ÆÊâßË°åÁöÑÔºåÂèØËÉΩÊòØNone„ÄÇ
            > ÁªëÂÆöÔºö
            > Áî®‰∫éDDLÊâßË°åÁöÑ[`Connection`](connections.html#sqlalchemy.engine.Connection "sqlalchemy.engine.Connection")
            > Ë°®Ôºö
            > ÂèØÈÄâÂÖ≥ÈîÆÂ≠óÂèÇÊï∞ -
            > Ë¶ÅÂú®MetaData.create\_all()Êàñdrop\_all()ÊñπÊ≥ïË∞ÉÁî®‰∏≠ÂàõÂª∫/Âà†Èô§ÁöÑTableÂØπË±°ÁöÑÂàóË°®„ÄÇ
            > Â∑ûÔºö
            > ÂèØÈÄâÁöÑÂÖ≥ÈîÆÂ≠óÂèÇÊï∞ - Â∞ÜÊàê‰∏∫‰º†ÈÄíÁªôÊ≠§ÂáΩÊï∞ÁöÑ`state`ÂèÇÊï∞„ÄÇ
            > checkfirstÔºö
            > Keyword argument, will be True if the ‚Äòcheckfirst‚Äô flag
            > was set during the call to `create()`,
            > `create_all()`, `drop()`, `drop_all()`.

            Â¶ÇÊûúcallableËøîÂõû‰∏Ä‰∏™ÁúüÂÄºÔºåÂàô‰ºöÊâßË°åDDLËØ≠Âè•„ÄÇ

        -   **state**[¬∂](#sqlalchemy.schema.DDLElement.execute_if.params.state)
            ‚Äì any value which will be passed to the callable\_ as the
            `state` keyword argument.

        ‰πüÂèØ‰ª•ÁúãÁúã

        [`DDLEvents`](events.html#sqlalchemy.events.DDLEvents "sqlalchemy.events.DDLEvents")

        [Events](event.html)

    `on`{.descname} *=Êó†* [¬∂](#sqlalchemy.schema.DDLElement.on "Permalink to this definition")
    :   

    `ÁõÆÊ†á`{.descname} *=Êó†* [¬∂](#sqlalchemy.schema.DDLElement.target "Permalink to this definition")
    :   

*class* `sqlalchemy.schema„ÄÇ`{.descclassname} `DDL`{.descname} Ôºà *ËØ≠Âè•*Ôºå*on =Êó† context = NoneÔºå*bind = None* Ôºâ [¬∂](#sqlalchemy.schema.DDL "Permalink to this definition")*
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema.DDLElement`](#sqlalchemy.schema.DDLElement "sqlalchemy.schema.DDLElement")

    ‰∏Ä‰∏™ÊñáÂ≠óDDLËØ≠Âè•„ÄÇ

    ÊåáÂÆöË¶ÅÁî±Êï∞ÊçÆÂ∫ìÊâßË°åÁöÑÊñáÂ≠óSQL
    DDL„ÄÇDDLÂØπË±°ÂÖÖÂΩìDDL‰∫ã‰ª∂‰æ¶Âê¨Âô®ÔºåÂèØ‰ª•‰ΩøÁî®[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")Êàñ[`MetaData`](metadata.html#sqlalchemy.schema.MetaData "sqlalchemy.schema.MetaData")ÂØπË±°‰Ωú‰∏∫ÁõÆÊ†áÊù•ËÆ¢ÈòÖ[`DDLEvents`](events.html#sqlalchemy.events.DDLEvents "sqlalchemy.events.DDLEvents")‰∏≠ÂàóÂá∫ÁöÑ‰∫ã‰ª∂„ÄÇÂü∫Êú¨Ê®°ÊùøÊîØÊåÅÂÖÅËÆ∏Âçï‰∏™DDLÂÆû‰æãÂ§ÑÁêÜÂ§ö‰∏™Ë°®ÁöÑÈáçÂ§ç‰ªªÂä°„ÄÇ

    ‰æãÂ≠êÔºö

        from sqlalchemy import event, DDL

        tbl = Table('users', metadata, Column('uid', Integer))
        event.listen(tbl, 'before_create', DDL('DROP TRIGGER users_trigger'))

        spow = DDL('ALTER TABLE %(table)s SET secretpowers TRUE')
        event.listen(tbl, 'after_create', spow.execute_if(dialect='somedb'))

        drop_spow = DDL('ALTER TABLE users SET secretpowers FALSE')
        connection.execute(drop_spow)

    Âú®Table‰∫ã‰ª∂‰∏äËøõË°åÊìç‰ΩúÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ã`statement`Â≠óÁ¨¶‰∏≤ÊõøÊç¢Ôºö

        %(table)s  - the Table name, with any required quoting applied
        %(schema)s - the schema name, with any required quoting applied
        %(fullname)s - the Table name including schema, quoted if needed

    DDLÁöÑ‚Äú‰∏ä‰∏ãÊñá‚ÄùÔºàÂ¶ÇÊûúÊúâÁöÑËØùÔºâÂ∞Ü‰∏é‰∏äËø∞Ê†áÂáÜÊõøÊç¢ÁªìÂêà‰ΩøÁî®„ÄÇ‰∏ä‰∏ãÊñá‰∏≠Âá∫Áé∞ÁöÑÈîÆÂ∞ÜË¶ÜÁõñÊ†áÂáÜÊõøÊç¢„ÄÇ

     `__init__`{.descname}(*statement*, *on=None*, *context=None*, *bind=None*)[¬∂](#sqlalchemy.schema.DDL.__init__ "Permalink to this definition")
    :   ÂàõÂª∫‰∏Ä‰∏™DDLËØ≠Âè•„ÄÇ

        ÂèÇÊï∞Ôºö

        -   **ËØ≠Âè•** [¬∂](#sqlalchemy.schema.DDL.params.statement) -

            Ë¶ÅÊâßË°åÁöÑÂ≠óÁ¨¶‰∏≤ÊàñunicodeÂ≠óÁ¨¶‰∏≤„ÄÇËØ≠Âè•Â∞ÜÁî®PythonÁöÑÂ≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñÊìç‰ΩúÁ¨¶Â§ÑÁêÜ„ÄÇËØ∑ÂèÇÈòÖ`context`ÂèÇÊï∞Âíå`execute_at`ÊñπÊ≥ï„ÄÇ

            ËØ≠Âè•‰∏≠ÁöÑÊñáÂ≠ó'ÔºÖ'ÂøÖÈ°ªËΩ¨‰πâ‰∏∫'%%'„ÄÇ

            SQLÁªëÂÆöÂèÇÊï∞Âú®DDLËØ≠Âè•‰∏≠‰∏çÂèØÁî®„ÄÇ

        -   **on** [¬∂](#sqlalchemy.schema.DDL.params.on) -

            ‰ªéÁâàÊú¨0.7ÂºÄÂßãÂºÉÁî®ÔºöËØ∑ÂèÇÈòÖ[`DDLElement.execute_if()`](#sqlalchemy.schema.DDLElement.execute_if "sqlalchemy.schema.DDLElement.execute_if")„ÄÇ

            ÂèØÈÄâÁöÑËøáÊª§Ê†áÂáÜ„ÄÇÂèØËÉΩÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂÖÉÁªÑÊàñÂèØË∞ÉÁî®Ë∞ìËØç„ÄÇÂ¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂàô‰ºöÂ∞ÜÂÖ∂‰∏éÊ≠£Âú®ÊâßË°åÁöÑÊï∞ÊçÆÂ∫ìÊñπË®ÄÁöÑÂêçÁß∞ËøõË°åÊØîËæÉÔºö

                DDL('something', on='postgresql')

            Â¶ÇÊûú‰∏Ä‰∏™ÂÖÉÁªÑÊåáÂÆöÂ§ö‰∏™ÊñπË®ÄÂêçÁß∞Ôºö

                DDL('something', on=('postgresql', 'mysql'))

            Â¶ÇÊûúÊòØÂèØË∞ÉÁî®ÁöÑÔºåÂàô‰ºöË∞ÉÁî®Âõõ‰∏™‰ΩçÁΩÆÂèÇÊï∞‰ª•ÂèäÂèØÈÄâÁöÑÂÖ≥ÈîÆÂ≠óÂèÇÊï∞Ôºö

            > DDLÔºö
            > Ëøô‰∏™DDLÂÖÉÁ¥†„ÄÇ
            > ‰∫ã‰ª∂Ôºö
            > Ëß¶ÂèëÊ≠§DDLÁöÑ‰∫ã‰ª∂ÁöÑÂêçÁß∞Ôºå‰æãÂ¶Ç'after-create'Â¶ÇÊûúÊòæÂºèÊâßË°åDDLÔºåÂàô‰∏∫None„ÄÇ
            > ÁõÆÊ†áÔºö
            > `Table`Êàñ`MetaData`ÂØπË±°ÊòØÊ≠§‰∫ã‰ª∂ÁöÑÁõÆÊ†á„ÄÇÂ¶ÇÊûúDDLÊòØÊòéÁ°ÆÊâßË°åÁöÑÔºåÂèØËÉΩÊòØNone„ÄÇ
            > ËøûÊé•Ôºö
            > Áî®‰∫éDDLÊâßË°åÁöÑ`Connection`
            > Ë°®Ôºö
            > ÂèØÈÄâÂÖ≥ÈîÆÂ≠óÂèÇÊï∞ -
            > Ë¶ÅÂú®MetaData.create\_all()Êàñdrop\_all()ÊñπÊ≥ïË∞ÉÁî®‰∏≠ÂàõÂª∫/Âà†Èô§ÁöÑTableÂØπË±°ÁöÑÂàóË°®„ÄÇ

            Â¶ÇÊûúcallableËøîÂõû‰∏Ä‰∏™ÁúüÂÄºÔºåÂàô‰ºöÊâßË°åDDLËØ≠Âè•„ÄÇ

        -   **‰∏ä‰∏ãÊñá** [¬∂](#sqlalchemy.schema.DDL.params.context) -
            ÂèØÈÄâÂ≠óÂÖ∏ÔºåÈªòËÆ§‰∏∫None„ÄÇËøô‰∫õÂÄºÂ∞ÜÂèØÁî®‰∫éDDLËØ≠Âè•‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ÊõøÊç¢„ÄÇ
        -   **ÁªëÂÆö** [¬∂](#sqlalchemy.schema.DDL.params.bind) -
            ÂèØÈÄâ„ÄÇ‰∏Ä‰∏™[`Connectable`](connections.html#sqlalchemy.engine.Connectable "sqlalchemy.engine.Connectable")ÔºåÂΩì`execute()`Ê≤°ÊúâÁªëÂÆöÂèÇÊï∞Êó∂Ë¢´Ë∞ÉÁî®Êó∂ÈªòËÆ§‰ΩøÁî®„ÄÇ

        ‰πüÂèØ‰ª•ÁúãÁúã

        [`DDLEvents`](events.html#sqlalchemy.events.DDLEvents "sqlalchemy.events.DDLEvents")

        [Events](event.html)

 *class*`sqlalchemy.schema.`{.descclassname}`_CreateDropBase`{.descname}(*element*, *on=None*, *bind=None*)[¬∂](#sqlalchemy.schema._CreateDropBase "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema.DDLElement`](#sqlalchemy.schema.DDLElement "sqlalchemy.schema.DDLElement")

    Ë°®Á§∫CREATEÂíåDROPÊàñÁ≠â‰ª∑Áâ©ÁöÑDDLÁªìÊûÑÁöÑÂü∫Á±ª„ÄÇplainplain

    \_CreateDropBaseÁöÑÂ∏∏ËßÅ‰∏ªÈ¢òÊòØÂçï‰∏™`element`Â±ûÊÄßÔºåÂÆÉÊåáÂêëË¶ÅÂàõÂª∫ÊàñÂà†Èô§ÁöÑÂÖÉÁ¥†„ÄÇ

 *class*`sqlalchemy.schema.`{.descclassname}`CreateTable`{.descname}(*element*, *on=None*, *bind=None*, *include\_foreign\_key\_constraints=None*)[¬∂](#sqlalchemy.schema.CreateTable "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    Ë°®Á§∫‰∏Ä‰∏™CREATE TABLEËØ≠Âè•„ÄÇplain

     `__init__`{.descname}(*element*, *on=None*, *bind=None*, *include\_foreign\_key\_constraints=None*)[¬∂](#sqlalchemy.schema.CreateTable.__init__ "Permalink to this definition")
    :   ÂàõÂª∫‰∏Ä‰∏™[`CreateTable`](#sqlalchemy.schema.CreateTable "sqlalchemy.schema.CreateTable")ÁªìÊûÑ„ÄÇ

        ÂèÇÊï∞Ôºö

        -   **element**[¬∂](#sqlalchemy.schema.CreateTable.params.element)
            ‚Äì a [`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")
            that‚Äôs the subject of the CREATE
        -   **on**[¬∂](#sqlalchemy.schema.CreateTable.params.on) ‚Äì See
            the description for ‚Äòon‚Äô in [`DDL`](#sqlalchemy.schema.DDL "sqlalchemy.schema.DDL").
        -   **bind**[¬∂](#sqlalchemy.schema.CreateTable.params.bind) ‚Äì
            See the description for ‚Äòbind‚Äô in [`DDL`](#sqlalchemy.schema.DDL "sqlalchemy.schema.DDL").
        -   **include\_foreign\_key\_constraints**
            [¬∂](#sqlalchemy.schema.CreateTable.params.include_foreign_key_constraints)
            -

            Â∞ÜË¢´ÂåÖÂê´Âú®CREATEÁªìÊûÑÂÜÖÁöÑ[`ForeignKeyConstraint`](constraints.html#sqlalchemy.schema.ForeignKeyConstraint "sqlalchemy.schema.ForeignKeyConstraint")ÂØπË±°ÁöÑÂèØÈÄâÂ∫èÂàóÔºõÂ¶ÇÊûúÁúÅÁï•ÔºåÂàôÂåÖÂê´ÊâÄÊúâÊú™ÊåáÂÆöuse\_alter
            = TrueÁöÑÂ§ñÈîÆÁ∫¶Êùü„ÄÇ

            ÁâàÊú¨1.0.0‰∏≠ÁöÑÊñ∞ÂäüËÉΩ

 *class*`sqlalchemy.schema.`{.descclassname}`DropTable`{.descname}(*element*, *on=None*, *bind=None*)[¬∂](#sqlalchemy.schema.DropTable "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    Ë°®Á§∫DROP TABLEËØ≠Âè•„ÄÇ

*class* `sqlalchemy.schema„ÄÇ`{.descclassname} `CreateColumn`{.descname} Ôºà *ÂÖÉÁ¥†* Ôºâ t5 \> [¬∂ T6\>](#sqlalchemy.schema.CreateColumn "Permalink to this definition")
:   Âü∫Á°ÄÔºö`sqlalchemy.schema._DDLCompiles`

    Â∞Ü[`Column`](metadata.html#sqlalchemy.schema.Column "sqlalchemy.schema.Column")Ë°®Á§∫‰∏∫ÈÄöËøá[`CreateTable`](#sqlalchemy.schema.CreateTable "sqlalchemy.schema.CreateTable")ÁªìÊûÑÂëàÁé∞Âú®CREATE
    TABLEËØ≠Âè•‰∏≠„ÄÇ

    ÈÄöËøá‰ΩøÁî®[Custom SQL Constructs and Compilation
    Extension](compiler.html)‰∏≠‰ªãÁªçÁöÑÁºñËØëÂô®Êâ©Â±ïÊù•Êâ©Â±ï[`CreateColumn`](#sqlalchemy.schema.CreateColumn "sqlalchemy.schema.CreateColumn")ÔºåÂèØ‰ª•Âú®CREATE
    TABLEËØ≠Âè•ÁöÑÁîüÊàêËøáÁ®ã‰∏≠ÊîØÊåÅËá™ÂÆö‰πâÂàóDDL„ÄÇ

    ÂÖ∏ÂûãÁöÑÈõÜÊàêÊòØÊ£ÄÊü•‰º†ÂÖ•ÁöÑ[`Column`](metadata.html#sqlalchemy.schema.Column "sqlalchemy.schema.Column")ÂØπË±°ÔºåÂπ∂Âú®ÊâæÂà∞ÁâπÂÆöÊ†áÂøóÊàñÊù°‰ª∂Êó∂ÈáçÂÆöÂêëÁºñËØëÔºö

        from sqlalchemy import schema
        from sqlalchemy.ext.compiler import compiles

        @compiles(schema.CreateColumn)
        def compile(element, compiler, **kw):
            column = element.element

            if "special" not in column.info:
                return compiler.visit_create_column(element, **kw)

            text = "%s SPECIAL DIRECTIVE %s" % (
                    column.name,
                    compiler.type_compiler.process(column.type)
                )
            default = compiler.get_column_default_string(column)
            if default is not None:
                text += " DEFAULT " + default

            if not column.nullable:
                text += " NOT NULL"

            if column.constraints:
                text += " ".join(
                            compiler.process(const)
                            for const in column.constraints)
            return text

    ‰∏äËø∞ÊûÑÈÄ†ÂèØ‰ª•Â∫îÁî®‰∫é[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö

        from sqlalchemy import Table, Metadata, Column, Integer, String
        from sqlalchemy import schema

        metadata = MetaData()

        table = Table('mytable', MetaData(),
                Column('x', Integer, info={"special":True}, primary_key=True),
                Column('y', String(50)),
                Column('z', String(20), info={"special":True})
            )

        metadata.create_all(conn)

    ‰ª•‰∏äÔºåÊàë‰ª¨Ê∑ªÂä†Âà∞[`Column.info`{](metadata.html#sqlalchemy.schema.Column.info "sqlalchemy.schema.Column.info")ÈõÜÂêàÁöÑÊåá‰ª§Â∞ÜË¢´Êàë‰ª¨ÁöÑËá™ÂÆö‰πâÁºñËØëÊñπÊ°àÊ£ÄÊµãÂà∞Ôºö

        CREATE TABLE mytable (
                x SPECIAL DIRECTIVE INTEGER NOT NULL,
                y VARCHAR(50),
                z SPECIAL DIRECTIVE VARCHAR(20),
            PRIMARY KEY (x)
        )

    ÂΩìÁîüÊàê`CREATE TABLE`Êó∂Ôºå[`CreateColumn`](#sqlalchemy.schema.CreateColumn "sqlalchemy.schema.CreateColumn")ÁªìÊûÑ‰πüÂèØÁî®‰∫éË∑≥ËøáÊüê‰∫õÂàó„ÄÇËøôÊòØÈÄöËøáÂàõÂª∫ÊúâÊù°‰ª∂Âú∞ËøîÂõû`None`ÁöÑÁºñËØëËßÑÂàôÊù•ÂÆåÊàêÁöÑ„ÄÇËøôÂü∫Êú¨‰∏äÊòØÂ¶Ç‰Ωï‰∫ßÁîü‰∏éÂú®[`Column`](metadata.html#sqlalchemy.schema.Column "sqlalchemy.schema.Column")‰∏ä‰ΩøÁî®`system=True`ÂèÇÊï∞Áõ∏ÂêåÁöÑÊïàÊûúÔºåÂÆÉÂ∞ÜÂàóÊ†áËÆ∞‰∏∫ÈöêÂºèÂ≠òÂú®ÁöÑ‚ÄúÁ≥ªÁªü‚ÄùÂàó„ÄÇ

    ‰æãÂ¶ÇÔºåÂÅáËÆæÊàë‰ª¨Â∏åÊúõ‰∫ßÁîü‰∏Ä‰∏™[`Table`](metadata.html#sqlalchemy.schema.Table "sqlalchemy.schema.Table")ÔºåËØ•Ë°®Ë∑≥ËøáPostgresqlÂêéÁ´ØÂØπPostgresql
    `xmin`ÂàóÁöÑÊ∏≤ÊüìÔºå‰ΩÜÊòØÂú®ÂÖ∂‰ªñÂêéÁ´ØÁ°ÆÂÆûÂëàÁé∞ÂÆÉÔºåÈ¢ÑÊúüËß¶ÂèëËßÑÂàô„ÄÇÊù°‰ª∂ÁºñËØëËßÑÂàôÂèØ‰ª•‰ªÖÂú®Postgresql‰∏äË∑≥ËøáÊ≠§ÂêçÁß∞Ôºö

        from sqlalchemy.schema import CreateColumn

        @compiles(CreateColumn, "postgresql")
        def skip_xmin(element, compiler, **kw):
            if element.element.name == 'xmin':
                return None
            else:
                return compiler.visit_create_column(element, **kw)


        my_table = Table('mytable', metadata,
                    Column('id', Integer, primary_key=True),
                    Column('xmin', Integer)
                )

    ‰ª•‰∏äÔºå‰∏Ä‰∏™[`CreateTable`](#sqlalchemy.schema.CreateTable "sqlalchemy.schema.CreateTable")ÁªìÊûÑÂ∞Ü‰∫ßÁîü‰∏Ä‰∏™`CREATE TABLE`ÔºåÂÖ∂‰∏≠Âè™ÂåÖÂê´`id`Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂàóÔºõ
    `xmin`ÂàóÂ∞ÜË¢´ÁúÅÁï•Ôºå‰ΩÜ‰ªÖÈíàÂØπPostgresqlÂêéÁ´Ø„ÄÇ

    0.8.3Áâà‰∏≠ÁöÑÊñ∞ÂäüËÉΩ [`CreateColumn`](#sqlalchemy.schema.CreateColumn "sqlalchemy.schema.CreateColumn")ÊûÑÈÄ†ÊîØÊåÅÈÄöËøá‰ªéËá™ÂÆö‰πâÁºñËØëËßÑÂàôËøîÂõû`None`Ë∑≥ËøáÂàó„ÄÇ

    0.8ÁâàÊñ∞Â¢ûÔºöÊ∑ªÂä†‰∫Ü[`CreateColumn`](#sqlalchemy.schema.CreateColumn "sqlalchemy.schema.CreateColumn")ÁªìÊûÑ‰ª•ÊîØÊåÅËá™ÂÆö‰πâÂàóÂàõÂª∫Ê†∑Âºè„ÄÇ

 *class*`sqlalchemy.schema.`{.descclassname}`CreateSequence`{.descname}(*element*, *on=None*, *bind=None*)[¬∂](#sqlalchemy.schema.CreateSequence "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    Ë°®Á§∫‰∏Ä‰∏™CREATE SEQUENCEËØ≠Âè•„ÄÇ

 *class*`sqlalchemy.schema.`{.descclassname}`DropSequence`{.descname}(*element*, *on=None*, *bind=None*)[¬∂](#sqlalchemy.schema.DropSequence "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    Ë°®Á§∫DROP SEQUENCEËØ≠Âè•„ÄÇplain

 *class*`sqlalchemy.schema.`{.descclassname}`CreateIndex`{.descname}(*element*, *on=None*, *bind=None*)[¬∂](#sqlalchemy.schema.CreateIndex "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    Ë°®Á§∫CREATE INDEXËØ≠Âè•„ÄÇplain

 *class*`sqlalchemy.schema.`{.descclassname}`DropIndex`{.descname}(*element*, *on=None*, *bind=None*)[¬∂](#sqlalchemy.schema.DropIndex "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    ‰ª£Ë°®DROP INDEXËØ≠Âè•„ÄÇplain

*class* `sqlalchemy.schema„ÄÇ`{.descclassname} `AddConstraint`{.descname} Ôºà *ÂÖÉÁ¥†*Ôºå*/ t5\>Ôºå*\*\* kw* Ôºâ [¬∂](#sqlalchemy.schema.AddConstraint "Permalink to this definition")*
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    Ë°®Á§∫ALTER TABLE ADD CONSTRAINTËØ≠Âè•„ÄÇ

*class* `sqlalchemy.schema„ÄÇ`{.descclassname} `DropConstraint`{.descname} Ôºà *ÂÖÉÁ¥†*Ôºå*cascade = False*Ôºå*\*\* kw* Ôºâ [¬∂](#sqlalchemy.schema.DropConstraint "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    Ë°®Á§∫‰∏Ä‰∏™ALTER TABLE DROP CONSTRAINTËØ≠Âè•„ÄÇplain

*class* `sqlalchemy.schema„ÄÇ`{.descclassname} `CreateSchema`{.descname} Ôºà *name*Ôºå*quote =Êó†*Ôºå*\*\* kw* Ôºâ [¬∂](#sqlalchemy.schema.CreateSchema "Permalink to this definition")
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    Ë°®Á§∫CREATE SCHEMAËØ≠Âè•„ÄÇ

    New in version 0.7.4.

    ËøôÈáåÁöÑÂèÇÊï∞ÊòØÊ®°ÂºèÁöÑÂ≠óÁ¨¶‰∏≤ÂêçÁß∞„ÄÇ

    `__ init __`{.descname} Ôºà *name*Ôºå*quote =Êó†*Ôºå*\*\* kw* Ôºâ T5\> [¬∂ T6\>](#sqlalchemy.schema.CreateSchema.__init__ "Permalink to this definition")
    :   ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ[`CreateSchema`](#sqlalchemy.schema.CreateSchema "sqlalchemy.schema.CreateSchema")ÁªìÊûÑ„ÄÇ

*class* `sqlalchemy.schema„ÄÇ`{.descclassname} `DropSchema`{.descname} Ôºà *name*Ôºå*quote =Êó†cascade = FalseÔºå*\*\* kw* Ôºâ [¬∂](#sqlalchemy.schema.DropSchema "Permalink to this definition")*
:   Âü∫Á°ÄÔºö[`sqlalchemy.schema._CreateDropBase`](#sqlalchemy.schema._CreateDropBase "sqlalchemy.schema._CreateDropBase")

    ‰ª£Ë°®DROP SCHEMAËØ≠Âè•„ÄÇ

    ËøôÈáåÁöÑÂèÇÊï∞ÊòØÊ®°ÂºèÁöÑÂ≠óÁ¨¶‰∏≤ÂêçÁß∞„ÄÇ

    New in version 0.7.4.

     `__init__`{.descname}(*name*, *quote=None*, *cascade=False*, *\*\*kw*)[¬∂](#sqlalchemy.schema.DropSchema.__init__ "Permalink to this definition")
    :   ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ[`DropSchema`](#sqlalchemy.schema.DropSchema "sqlalchemy.schema.DropSchema")ÁªìÊûÑ„ÄÇ


